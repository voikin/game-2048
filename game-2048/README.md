# 2048 Игра: Техническое задание и Архитектура

## Техническое задание

### Общие требования

1. Игра должна быть реализована на языке C#.
2. Хранилище данных: .json файлы.
3. Три модуля: DataAccessLayer, LogicLayer, PresentationLayer.

### Требования к модулю DataAccessLayer

1. Предоставление методов для чтения и записи данных в .json файлы.
2. Методы для работы с таблицей лидеров и хранением игровых сессий.

### Требования к модулю LogicLayer

1. Методы для обработки хода игрока, проверки условий выигрыша и проигрыша.
2. Методы для сохранения текущей игровой сессии и загрузки сохраненной сессии.
3. Методы для обновления таблицы лидеров.

### Требования к модулю PresentationLayer

1. Пользовательское меню с командами: просмотр таблицы лидеров, начало новой игры, загрузка сохранения, выход из игры.
2. Вывод игрового поля и текущего счета игрока.
3. Вывод таблицы лидеров.
4. Дифференцирование значений карточек и группировка ближайших по значению.

### Дополнительные требования

1. Управление с клавишами со стрелками.
2. Результат игрока добавляется в таблицу лидеров, обновляется только при улучшении результата.
3. Возможность сохранения игры и выхода из приложения.
4. Возможность загрузки сохраненной игры из главного меню.

## Анализ задачи

### Разработка консольной игры "2048" на языке C#

- Знание основ C#, консольного ввода/вывода, работа с файлами, принципы ООП.

### Использование .json файлов

- Сериализация и десериализация данных.

### Разработка трехслойной архитектуры

- Создание модулей для DataAccessLayer, LogicLayer, PresentationLayer с четкими обязанностями.

### Реализация игровой механики "2048"

- Алгоритм движения и слияния квадратов в зависимости от направления.

### Работа с таблицей лидеров и сохранением игры

- Сохранение/загрузка данных игроков и состояния игры.

### Вывод информации на экран

- Организация вывода меню, игрового поля и таблицы лидеров.

## Архитектура приложения

### [Диаграмма классов](https://lucid.app/documents/view/1b7a61a0-4cda-4c20-bab6-04fdde1a05be)

### DataAccessLayer

- Классы: dataAccess, sessionDataAccess.
- Методы для работы с файлами, сериализации, таблицей лидеров и сохранениями игр.

### LogicLayer

- Класс "Logic" с методами для управления игровым процессом.
- Метод для обновления таблицы лидеров.

### PresentationLayer

- Класс "Menu" для вывода команд и обработки ввода пользователя.
- Класс "Display" для отображения состояния игры.

### Взаимодействие между слоями

- PresentationLayer -> LogicLayer -> DataAccessLayer.

## Архитектура БД

- JSON формат файлов.
- Модели данных: лучшие результаты игроков, состояние доски игры.
- Хранение во временной папке для переносимости программы.

## Листинг программы

[GitHub репозиторий](https://github.com/voikin/game-2048)